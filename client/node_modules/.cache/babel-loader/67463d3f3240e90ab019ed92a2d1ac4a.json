{"ast":null,"code":"var _jsxFileName = \"/Users/uayevan/Desktop/ChessApp/client/src/components/Board.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport $ from 'jquery';\nimport Chessboard from 'chessboardjsx';\nimport ChessBoard from './ChessBoard.js';\nimport Chess from 'chess.js';\nimport { useState, useEffect, useContext } from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport { useLocation, Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Board(props) {\n  _s();\n\n  const [selected, setSelected] = useState('x');\n  const [position, setPosition] = useState('start');\n  const [chess, setChess] = useState(new Chess());\n  const [squareStyles, setSquareStyles] = useState({});\n  const [moves, setMoves] = useState([]);\n\n  const move = theMove => {\n    console.log(theMove);\n    chess.move({\n      from: theMove.sourceSquare,\n      to: theMove.targetSquare\n    });\n    setMoves(chess.history());\n    setPosition(chess.fen());\n    console.log(chess.ascii());\n  };\n\n  const movePiece = square => {\n    console.log(square);\n    console.log(chess.get(square));\n\n    if (chess.get(square) && chess.get(square).color === chess.turn()) {\n      setSelected(square);\n      let highlightedSquares = {};\n      highlightedSquares[square] = {\n        backgroundColor: \"#0000ff\"\n      };\n      let moves = chess.moves({\n        square: square,\n        verbose: true\n      });\n\n      if (moves.length === 0) {\n        setSelected('x');\n        setSquareStyles({});\n        return;\n      }\n\n      let squaresToHighlight = [];\n\n      for (var i = 0; i < moves.length; i++) {\n        squaresToHighlight.push(moves[i].to);\n      }\n\n      console.log(squaresToHighlight);\n\n      for (var i = 0; i < squaresToHighlight.length; i++) {\n        highlightedSquares[squaresToHighlight[i]] = {\n          background: \"radial-gradient(circle, #0000ff 20%, transparent 40%)\",\n          borderRadius: \"50%\"\n        };\n      }\n\n      setSquareStyles(highlightedSquares);\n    } else if (selected !== 'x') {\n      chess.move({\n        from: selected,\n        to: square\n      });\n      setMoves(chess.history());\n      setPosition(chess.fen());\n      console.log(chess.ascii());\n      setSelected('x');\n      setSquareStyles({});\n    }\n  };\n\n  useEffect(() => {});\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ChessBoard, {\n        orientation: props.color,\n        width: 600,\n        position: position,\n        onDrop: move,\n        onSquareClick: movePiece,\n        squareStyles: squareStyles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '0%',\n        right: '-40%',\n        color: 'white',\n        backgroundColor: 'black'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Game Moves\", moves, moves.map((move, i) => {\n          /*#__PURE__*/\n          _jsxDEV(\"div\", {\n            children: [\"move\", i % 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: i % 2 + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 33\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Board, \"eRs62nEFs94Qs1fOW4S2IGsdC6I=\");\n\n_c = Board;\nexport default Board;\n\nvar _c;\n\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"sources":["/Users/uayevan/Desktop/ChessApp/client/src/components/Board.js"],"names":["React","$","Chessboard","ChessBoard","Chess","useState","useEffect","useContext","Tab","Tabs","TabList","TabPanel","useLocation","Link","axios","Board","props","selected","setSelected","position","setPosition","chess","setChess","squareStyles","setSquareStyles","moves","setMoves","move","theMove","console","log","from","sourceSquare","to","targetSquare","history","fen","ascii","movePiece","square","get","color","turn","highlightedSquares","backgroundColor","verbose","length","squaresToHighlight","i","push","background","borderRadius","top","right","map"],"mappings":"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","sourcesContent":["import React from 'react';\nimport $ from 'jquery'\nimport Chessboard from 'chessboardjsx'\nimport ChessBoard from './ChessBoard.js'\nimport Chess from 'chess.js'\nimport { useState, useEffect, useContext } from 'react';\nimport { Tab, Tabs, TabList, TabPanel } from 'react-tabs';\nimport { useLocation, Link } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction Board(props) {\n    const [selected, setSelected] = useState('x')\n    const [position, setPosition] = useState('start')\n    const [chess, setChess] = useState(new Chess())\n    const [squareStyles, setSquareStyles] = useState({})\n    const [moves, setMoves] = useState([])\n\n\n    const move = (theMove) => {\n        console.log(theMove)\n        chess.move({from: theMove.sourceSquare, to: theMove.targetSquare})\n        setMoves(chess.history())\n        setPosition(chess.fen())\n        console.log(chess.ascii())\n    }\n\n    const movePiece = (square) => {\n        console.log(square)\n        console.log(chess.get(square))\n        if(chess.get(square) && chess.get(square).color === chess.turn()) {\n            setSelected(square)\n            let highlightedSquares = {};\n            highlightedSquares[square] = \n            {\n                backgroundColor: \"#0000ff\"\n            }\n            let moves = chess.moves({\n                square: square,\n                verbose: true\n              });\n              if (moves.length === 0) {\n                  setSelected('x');\n                  setSquareStyles({})\n                  return;\n              }\n          \n              let squaresToHighlight = [];\n              for (var i = 0; i < moves.length; i++) {\n                squaresToHighlight.push(moves[i].to);\n              }\n              console.log(squaresToHighlight)\n              for(var i = 0; i < squaresToHighlight.length; i ++) {\n                highlightedSquares[squaresToHighlight[i]] = \n                {\n                    background:\n                    \"radial-gradient(circle, #0000ff 20%, transparent 40%)\",\n                    borderRadius: \"50%\"\n                }\n              }\n              setSquareStyles(highlightedSquares)\n        }\n        else if(selected !== 'x') {\n            chess.move({from: selected, to: square})\n            setMoves(chess.history())\n            setPosition(chess.fen())\n            console.log(chess.ascii())\n            setSelected('x')\n            setSquareStyles({})\n        }\n    }\n\n    useEffect(() => {\n\n    })\n    return(\n        <body>\n            <div>\n                <ChessBoard orientation={props.color} width={600} position={position} onDrop={move} onSquareClick={movePiece} squareStyles={squareStyles}/>                 \n            </div>\n            <div style={{position: 'absolute', top: '0%', right: '-40%', color: 'white', backgroundColor: 'black'}}>\n                <div>Game Moves\n                {moves}\n                {\n                    moves.map((move, i) => {\n                        <div>\n                            move\n                            {\n                            i % 2 ?\n                                <div>{(i%2)+1}</div>\n                                :\n                                null\n                            }\n                        </div>\n                    })\n                }\n                </div>\n            </div>\n        </body>\n    );\n}\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}